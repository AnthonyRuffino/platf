
function draw_map()
{

boxes = [];
coins = [];
enemies = [];
map_arr = [
'1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
'10000000000000000000000000000000000===0=0000=000=000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
'10000000000000000000000000000000000=000=0=0=0=00=000000=0=00=00==00==00=0=000000000000000==00=0==00===0=0=0==000=00=0=00=000000000000001',
'1000000x000000000000000000000000000==00==00=0=00=000000=0=0=0=0=0=0=0=0=0=00000xx00xx0000=0=000=0=00=00=0=0=0=0=0=0=0=00=000000000000001',
'100000x0x00000000000000000000000000=000=0=0===000000000===0=0=0=0=0=0=0===000001100110000==00=0==000=00===0=0=0=0=0===00=000000000000001',
'10000000000000000000000000000000000===0=0=0=0=00=0x0000=0=0===0==00==0000=000000000000000=0=0=0=0=00=00=0=0=0=0===000=000000000000000001',
'1000110001100000000000000000000000000000000000000x0x000=0=0=0=0=000=000==0000010=000=0000==00=0=0=00=00=0=0===0=0=0==000=000000000000001',
'10000000000000000000000000000000x00000000000000xx000xx0000000000000000000001100===0===00000000000x000000x00000000001x0000000000000000001',
'110000000000011110000000x000000110000x0001xx0001100011000000000000000001000000=========000000000xxx0000x0x00000xx001x0000000000000000001',
'10001110000001xx000100001100001000001100001100000000000000000xxx000xx000100000=========000000000000xxxx00x0000011001x0000000000000000001',
'1010x00000000100x0011000000000000000000000000000000000000x000111000110000000100=======0000000xxx000111100xxxx0000001x0000000000000000001',
'1001100011000100111000x0000000xx1100000000000000xx000000111000100000010000100000=====0000000011100001100011110000001x0000000000000000001',
'100000000000x10000000010000000x11xxx0000xx1110001100011001001010000001xxxx11000000=0000000000000000011000000000x0001x0000000000000000001',
'10p00xxx00001100xxx00111000011x11xxx000011111===11===11=======1======111xx10====0xxx0===111000000xxx110000000011000xx000v000000000000001',
'1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111'

];
block_size = 28;
max_block_width = 18;
var cnt = 0;

for (var y = 0; y < map_arr.length; y++) {
	for (var x = 0; x < map_arr[0].length; x++) {
		cnt = 0;
		if (map_arr[y][x] == '1') {
			cnt = 1;
			for (var k = 1; k < max_block_width; k++) {
				if (x+k > map_arr[y].length)
					break;
				if (map_arr[y][x+k] == '1') {
					cnt += 1;
				} else
					break;
			}

			boxes.push({
				x	  : x*block_size,
				y	  : y*block_size-10,
				width : block_size*(cnt),
				height: block_size,
				color : getRndColor()
			});
			x += cnt-1;
		} else if (map_arr[y][x]=='x') { //COIN
			coins.push(new Coin(x, y, block_size));
		} else if (map_arr[y][x]=='p') { // PLAYER
			player.y = y*block_size;
		//	w_coords.x = -x*block_size;
			player.x = x*block_size;
		} else if (map_arr[y][x]=='=') { //LAVA
			lava.push({
				x	  : x*block_size,
				y	  : y*block_size-10,
				width : block_size,
				height: block_size,
				img	  : images.lava
			})
		} else if (map_arr[y][x]=='v') { // HEART
				console.log('heart!');
				hearts.push(new Heart(x, y, block_size));
			}
	}
}

}

draw_map();
// coins


