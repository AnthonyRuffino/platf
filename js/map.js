
function draw_map()
{

boxes = [];
coins = [];
enemies = [];
map_arr = [
'1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
'1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
'1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
'1000000x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
'100000x0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
'10000000000000000000000000000000000000000000000000x0000000000000000000000000000000000000000000000001',
'10001100011000000000000000000000000000000000000000x0x000000000000000000000000000000000000000000000001',
'10000000000000000000000000000000x00000000000000xx000xx0000000000000000000000000000000000000000000001',
'110000000000011110000000x000000110000x0001xx00011000110000000000000000000000000000000000000000000001',
'1000111000000100000100001100001000001100001100000000000000000000000000000000000000000000000000000001',
'1010x00000000100x00110000000000000000000000000000000000000000000000000000000000000000000000000000001',
'1001100011000100111000x0000000xx1100000000000000xx00000000000000000000000000000000000000000000000001',
'100000000000x10000000010000000x11xxx0000xx1110001100011000000000000000000000000000000000000000000001',
'10p00xxx000=110000000111000011x11xxx000011111===11===11000000000000000000000000000000000000000000001',
'1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111'

];
block_size = 28;
max_block_width = 18;
var cnt = 0;

for (var y = 0; y < map_arr.length; y++) {
	for (var x = 0; x < map_arr[0].length; x++) {
		cnt = 0;
		if (map_arr[y][x] == '1') {
			cnt = 1;
			for (var k = 1; k < max_block_width; k++) {
				if (x+k > map_arr[y].length)
					break;
				if (map_arr[y][x+k] == '1') {
					cnt += 1;
				} else
					break;
			}

			boxes.push({
				x	  : x*block_size,
				y	  : y*block_size-10,
				width : block_size*(cnt),
				height: block_size,
				color : getRndColor()
			});
			x += cnt-1;
		} else if (map_arr[y][x]=='x') { //COIN
			coins.push(new Coin(x, y, block_size));
		} else if (map_arr[y][x]=='p') { // PLAYER
			player.y = y*block_size;
		//	w_coords.x = -x*block_size;
			player.x = x*block_size;
		} else if (map_arr[y][x]=='=') { //LAVA
			lava.push({
				x	  : x*block_size,
				y	  : y*block_size-10,
				width : block_size,
				height: block_size,
				img	  : images.lava
			})
		}
	}
}

}

draw_map();
// coins


