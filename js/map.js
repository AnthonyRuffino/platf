
function draw_map()
{

boxes = [];
coins = [];
enemies = [];
map_arr = [
'1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
'1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
'1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
'1000000x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
'100000x0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
'1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
'1000110001100000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
'10000000000000000000000000000000x0000000000000000000000000000000000000000000000000000000000000000001',
'110000000000011110000000x000000110000x00000000000000000000000000000000000000000000000000000000000001',
'1000111000000100000100001100001000001100000000000000000000000000000000000000000000000000000000000001',
'1010x00000000100x00110000000000000000000000000000000000000000000000000000000000000000000000000000001',
'1001100011000100111000x00000000011000000000000000000000000000000000000000000000000000000000000000001',
'100000000000x100000000100000000110000000000000000000000000000000000000000000000000000000000000000001',
'1000000x00001100000001110000110110000000000000000000000000000000000000000000000000000000000000000001',
'1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111'

];
block_size = 28;
max_block_width = 18;
var cnt = 0;

for (var y = 0; y < map_arr.length; y++) {
	for (var x = 0; x < map_arr[0].length; x++) {
		cnt = 0;
		if (map_arr[y][x] == '1') {
			cnt = 1;
			for (var k = 1; k < max_block_width; k++) {
				if (x+k > map_arr[y].length)
					break;
				if (map_arr[y][x+k] == '1') {
					cnt += 1;
				} else
					break;
			}

			boxes.push({
				x: x*block_size,
				y: y*block_size-10,
				width: block_size*(cnt),
				height:block_size,
				color: getRndColor()
			});
			x += cnt-1;
		} else if (map_arr[y][x]=='x') { //COIN
			coins.push(new Coin(x, y, block_size));
		}
	}
}

}

draw_map();
// coins



player.x = 50;
player.y = height-50;